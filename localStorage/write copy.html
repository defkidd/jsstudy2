<!DOCTYPE html>
<html lang="en">
<!-- 검색엔진에 걸리는 언어.. 이페이지가 어떤언어를 담고있는지 알려준다.-->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>아주 볼품없는 게시판</h1>
    <form action="write_action.html">
        제목 : <input type="text" name="nm_title" id="" value="박경신짱" required><br>
        글쓴이 : <input type="text" name="nm_wirter" id="" value="박경신" required><br>
        글쓴이 스킬 :<br>
        JS<input type="checkbox" name="nm_skills" id="id_js" value="js">
        스프링<input type="checkbox" name="nm_skills" id="id_spring" value="spring">
        파이썬<input type="checkbox" name="nm_skills" id="id_python" value="python" checked>
        오라클<input type="checkbox" name="nm_skills" id="id_oralce" value="oracle"><br>
        <hr>
        내용 : <br>
        <textarea cols="40" rows="5" name="nm_content" required>내용</textarea><br>
        <input type="submit" value="글쓰기">
    </form>
    <script>

        var checked = [];
        var input;
        var cnt = 1
        input = (document.querySelectorAll("input"));
        for (var i = 0; i < input.length; i++) {
            var type = input[i].getAttribute("type");
            if (type == "checkbox") {
                if (input[i].checked) {
                    checked.push(input[i].id)
                }
                // console.log("fd")
            }
        }
        console.log(checked)

        // console.log(document.getElementsByName("nm_skills"));
        var checkbox = document.getElementsByName("nm_skills");
        console.log(checkbox)
        for (var i = 0; i < checkbox.length; i++) {

            checkbox[i].addEventListener("click", function () {
                console.log(event.target.id); // 매개변수를 e로 받으면,,event.target을 e.targetㅇ,ㅡ로 쓸수있따..
              
                    console.log(checked.length)
                    if (checked.indexOf(event.target.id) == -1) {
                        if (checked.length + 1 > 3) {
                            alert("3개까지만 선택가능해요")
                            document.querySelector("#" + event.target.id + "").checked = false;
                            return
                        }
                        checked.push(event.target.id);

                    } else {
                        for (var i = 0; i < checked.length; i++) {
                            if (checked[i] == event.target.id) {
                                checked.splice(i, 1);
                            }
                        }
                    }

                    console.log(checked)
                    cnt++;
              
            })
        }

       


    </script>

</body>

</html>