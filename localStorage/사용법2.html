<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // localStorage 사용 양간 응용( 단순 key - value로 사용하기에는 뭔가 아쉬움)
        // 객체지향 DB 에 유명한 MongoDB가 있음
        // 테이블은 Collection이라 부르고, 실제는 배열타입을사용
        // 테이블의 Row를 Document라고 부르고 , ㅣㄹ제는 JSON타입을 사용

        var v_tblName = "myTable";
        var v_tblData = []; //빈 배열
        for(var i = 1; i <= 10; i ++){
            
            
            var v_row = {}; // 빈 객체(row 데이타를 담을 객체)
            v_row.name = "def" +i;
            v_row.age = i*10;
            if (i==10) {
                v_row.comment ={"com1" : "kk", "com2" : "yy"}
            } else {
                
                v_row.comment = "kidd" + i;
            }

            // 생성한 객체를 배열에 담아주기
            v_tblData.push(v_row);

        }
        // 배열을 로컬스토리지에 저장 v_tblData는 배열로써, javascript에서 배열은 Object 즉 객체이다
        // 그러므로 아래방식대로 하면 제대로 저장이안된다. 로컬스토리지에는 문자열만 저장가능한 제약사항이 있다
        // localStorage.setItem(v_tblName,v_tblData);
        // 그러므로 JSON.stringify를 통해서 JSON -> String으로 바꿔준다
        localStorage.setItem(v_tblName,JSON.stringify( v_tblData));
        
        console.log(v_tblData)

    </script>
    
</body>
</html>